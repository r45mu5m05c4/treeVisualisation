[{"C:\\folder-tree\\src\\components\\Tree\\Tree.js":"1","C:\\folder-tree\\src\\components\\Folder\\Node.js":"2","C:\\folder-tree\\src\\Data\\Data.js":"3","C:\\folder-tree\\src\\index.js":"4","C:\\folder-tree\\src\\App.js":"5","C:\\folder-tree\\src\\reportWebVitals.js":"6"},{"size":4259,"mtime":1606909337220,"results":"7","hashOfConfig":"8"},{"size":2114,"mtime":1606908942845,"results":"9","hashOfConfig":"8"},{"size":2171,"mtime":1606746414263,"results":"10","hashOfConfig":"8"},{"size":288,"mtime":1606821401115,"results":"11","hashOfConfig":"8"},{"size":176,"mtime":1606821546006,"results":"12","hashOfConfig":"8"},{"size":362,"mtime":499162500000,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16"},"1m14xeq",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\folder-tree\\src\\components\\Tree\\Tree.js",["27"],"import React, { Component } from 'react';\r\nimport Node from '../Folder/Node';\r\nimport { files } from './../../Data/Data';\r\nimport values from 'lodash/values';\r\n\r\nexport default class Tree extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            nodes: {}\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        let fileList = [...files]\r\n        this.folderGenerator(fileList)\r\n    }\r\n    toggleFolder = (node) => {\r\n        const { nodes } = this.state;\r\n        nodes[node.path].showContent = !node.showContent;\r\n        this.setState({ nodes });\r\n    }\r\n    addNode(depth, file) {\r\n        //converts the string of each node to an object, assigning the necessary props\r\n        let node = {}\r\n        let splitNode = file.split('/', depth)\r\n        let appendNode = splitNode.join('/')\r\n        node.type = appendNode.includes('.') ? 'file' : 'folder';\r\n        node.path = `dir/${appendNode}`;\r\n        node.level = depth;\r\n        if (node.type === 'folder') {\r\n            node.children = [];\r\n        }\r\n        return node;\r\n    }\r\n    folderGenerator(fileList) {\r\n        //converts the list of strings 'files' from data to objects\r\n        let nodeList = {};\r\n        //dir is the 'root' directory\r\n        let dir = { path: 'dir', topLayer: true, type: 'folder' }\r\n        fileList.forEach(file => {\r\n            let splitPath = file.split('/');\r\n            for (let i = 0; i < splitPath.length; i++) {\r\n                let node = this.addNode(i + 1, file)\r\n                nodeList = {\r\n                    ...nodeList,\r\n                    [node.path]: node\r\n                }\r\n            }\r\n        })\r\n        nodeList = {\r\n            ...nodeList,\r\n            dir: dir\r\n        }\r\n        this.addFolderToDirectory(nodeList);\r\n        this.setState({ nodes: nodeList });\r\n    }\r\n    addFolderToDirectory(nodes) {\r\n        ////////////adding children for mapping, starting with root directory 'dir'////////////////////\r\n        nodes.dir.children = [];\r\n        let fileArray = [];\r\n        Object.keys(nodes).map(key => {\r\n            fileArray.push(key);\r\n        })\r\n        fileArray.forEach((file) => {\r\n            let splitPath = file.split('/');\r\n            if (splitPath.length === 2) {\r\n                let addFolder = true;\r\n                nodes.dir.children.forEach((item) => {\r\n                    if (item === file.path) {\r\n                        addFolder = false;\r\n                    }\r\n                })\r\n                addFolder && nodes.dir.children.push(file);\r\n            }\r\n            ///adding children for mapping based on depth in file-system\r\n            else if (splitPath.length === 3) {\r\n                this.addToParentFolder(nodes, file, 3)\r\n            }\r\n            else if (splitPath.length === 4) {\r\n                this.addToParentFolder(nodes, file, 4)\r\n            }\r\n        })\r\n    }\r\n    \r\n    addToParentFolder(nodes, file, length) {\r\n        //uses the path name to find which folder to put the folder/file in\r\n        let slice = length - 1;\r\n        let folder = file.split('/', slice).join('/')\r\n        Object.keys(nodes).forEach(folderNode => {\r\n            //then loops through existing folders and adds to children\r\n            let motherFolder = nodes[folderNode].path\r\n            if (folder === motherFolder) {\r\n                nodes[folderNode].children.push(file);\r\n            }\r\n        })\r\n    }\r\n    findTopNode = () => {\r\n        //finds the 'root' directory\r\n        const { nodes } = this.state;\r\n        return values(nodes).filter(node => node.topLayer === true);\r\n    }\r\n    getSubFolders = (node) => {\r\n        //returns children(subfolders) of given node\r\n        const { nodes } = this.state;\r\n        if (!node.children) return [];\r\n        return node.children.map(path => nodes[path]);\r\n    }\r\n    render() {\r\n\r\n        const topLayerNode = this.findTopNode();\r\n        return (\r\n            <div>\r\n                {topLayerNode.map(node => (\r\n                    <Node\r\n                        node={node}\r\n                        getSubFolders={this.getSubFolders}\r\n                        toggleFolder={this.toggleFolder}\r\n                    />\r\n                ))}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n","C:\\folder-tree\\src\\components\\Folder\\Node.js",[],"C:\\folder-tree\\src\\Data\\Data.js",[],"C:\\folder-tree\\src\\index.js",[],"C:\\folder-tree\\src\\App.js",[],"C:\\folder-tree\\src\\reportWebVitals.js",[],{"ruleId":"28","severity":1,"message":"29","line":61,"column":36,"nodeType":"30","messageId":"31","endLine":61,"endColumn":38},"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside"]